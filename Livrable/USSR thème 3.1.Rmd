---
title: "La sélection de variables"
author: "CA"
date: "26 juin 2018"
output:
  html_document:
    theme: united
    toc: yes
    toc_depth: 2
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

### Problématique

Comment sélectionner un champ de variables dans une base de données ?

C'est-à-dire, quel est le verbe clé pour sélectionner certaines variables d'une base de données.

### Solution retenue

Le package **dplyr** offre la fonctionnalité souhaitée.
C'est dans ce package le verbe select() qui permet de sélectionner des variables. 

### Niveau d'intégration à l'USSR

#### Développements préconisés



#### Points de vigilance



### Intégration au dispositif de formation

Les outils préconisés ne demandent pas de formation spécifique pour être maîtrisés.

### Particularités de syntaxe

Le package **dplyr** contient des helpers pour faciliter l'appel des variables dans la fonction select

### Exemples

#### Sélectionner un ensemble de variables en les nommant

Le premier argument représente la base de données, les suivants représentent les variables à conserver.

```{r init,echo=FALSE,message=FALSE}
library("dplyr")
```

```{r select by name}

p1 <- select (prelevement, date_prelevement, code_prelevement, code_reseau, code_station)

```

#### Sélectionner des variables en indiquant les variables que l'on ne souhaite pas conserver

On indique le signe - devant la variable à supprimer

```{r complémentaire}

p2 <- select (prelevement, -commentaire)

```

#### Sélectionner toutes les variables qui commencent par une chaine de caractères (helper starts_with) 

```{r}

p3 <- select (prelevement, starts_with ("code_"))

```

#### Exemple des principaux helpers

starts_with(): starts with a prefix
ends_with(): ends with a prefix
contains(): contains a literal string
one_of(): variables in character vector
everything(): all variables

### Solutions viables non retenues

Aucune.

### Solutions à ne pas utiliser

Aucune.